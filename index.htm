<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>The Story of Communication — Telegraph & Chapter 3</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Playfair+Display:wght@600&family=Special+Elite&display=swap" rel="stylesheet">
<style>
  :root{
    --brown:#2e2219; --gold:#B8860B; --cream:#fdfcf9; --muted:#36454F;
    --paper:#fbf6ef;
  }
  *{box-sizing:border-box}
  body{margin:0;font-family:Inter,system-ui,Arial,sans-serif;background:var(--cream);color:var(--muted)}
  /* Nav */
  nav{background:var(--brown);padding:12px;position:sticky;top:0;z-index:2000;display:flex;justify-content:center;gap:14px}
  nav button{background:transparent;border:0;color:var(--gold);font-weight:600;padding:8px 12px;cursor:pointer}
  nav button.active{border-bottom:2px solid rgba(255,255,255,0.08)}
  /* Hero */
  .hero{background:linear-gradient(180deg, rgba(238,232,213,0.7), rgba(255,255,255,0.6));padding:48px 18px;text-align:center}
  .hero h1{font-family:'Playfair Display',serif;margin:6px 0;font-size:clamp(28px,4.2vw,44px);color:var(--brown)}
  .hero p{max-width:880px;margin:10px auto 18px auto;font-size:1.05rem;color:#4a5560}
  .hero .cta{display:flex;gap:12px;justify-content:center;margin-top:18px;flex-wrap:wrap}
  .cta button{background:var(--gold);border:0;padding:12px 18px;border-radius:8px;cursor:pointer;font-weight:700;color:var(--brown)}
  .container{max-width:1000px;margin:26px auto;padding:0 18px}
  h2{font-family:'Playfair Display',serif;color:var(--brown);margin-bottom:12px}
  /* Telegraph */
  .telegraph{background:#3b2e24 url('https://www.transparenttextures.com/patterns/wood-pattern.png');color:#f9f6ee;padding:28px;border-radius:12px}
  .telegraph .box{background:var(--paper);padding:18px;border-radius:10px;color:var(--muted)}
  textarea,input{width:100%;padding:10px;border-radius:8px;border:1px solid #cfc3b3;font-family:'Special Elite',monospace}
  textarea{height:110px;resize:none;background:#fff}
  .paper-tape{background:#fff;border:2px dashed #c9bfae;padding:16px;border-radius:8px;min-height:90px;font-family:'Special Elite',monospace;font-size:1.2rem;color:#111;letter-spacing:3px;white-space:pre-wrap;overflow:auto}
  .controls{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}
  button.vbtn{background:var(--gold);border:0;padding:10px 14px;border-radius:8px;cursor:pointer;font-weight:700;color:var(--brown)}
  .morse-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(72px,1fr));gap:8px;margin-top:12px}
  .morse-cell{background:#fff;padding:8px;border-radius:8px;border:1px solid #e6dfcf;text-align:center}
  .morse-cell b{display:block;font-size:1rem}
  /* Narrative */
  .narrative{background:linear-gradient(180deg,#fff 0%, #f8f6f1 100%);padding:28px;border-radius:12px}
  .timeline{display:flex;gap:12px;flex-wrap:wrap;margin-top:12px}
  .event{flex:1 1 220px;background:#fff7fb;padding:12px;border-radius:10px;border:1px solid #f3cfe0;cursor:pointer}
  .popup{position:fixed;left:50%;top:50%;transform:translate(-50%,-50%);z-index:3000;background:#fff;padding:20px;border-radius:12px;max-width:720px;width:92%;box-shadow:0 18px 48px rgba(0,0,0,0.18);display:none}
  .popup .close{position:absolute;right:14px;top:10px;border:0;background:transparent;font-size:18px;cursor:pointer}
  .bubbles{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px}
  .bubble{background:#fffbf0;border:1px solid #efe2c6;padding:8px 12px;border-radius:999px;cursor:pointer}
  /* Quiz */
  .quiz{background:#fff;padding:16px;border-radius:12px;border:1px solid #eee;max-width:980px;margin:14px auto}
  .q{margin-bottom:14px}
  .choices{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}
  .choice{padding:10px 12px;border-radius:8px;border:1px solid #dcdcdc;background:#fff;cursor:pointer}
  .choice:hover{background:#f5f5f5}
  .feedback{margin-top:8px;font-weight:700}
  footer{padding:24px;text-align:center;color:#6b6b6b;font-size:0.95rem}
</style>
</head>
<body>

<nav>
  <button data-target="hero" class="active">Home</button>
  <button data-target="telegraph">Telegraph</button>
  <button data-target="narrative">Chapter 3</button>
</nav>

<section id="hero" class="hero">
  <div class="container">
    <h1>The Story of Communication</h1>
    <p>From talking drums to telegraphs to wordbooks — explore how technologies shape what we can say and how we learn.</p>
    <div class="cta">
      <button onclick="scrollToSection('telegraph')">Telegraph Simulator →</button>
      <button onclick="scrollToSection('narrative')">Chapter 3 Narrative →</button>
    </div>
  </div>
</section>

<section id="telegraph" class="container telegraph">
  <h2>Telegraph Simulator</h2>
  <div class="box">
    <textarea id="message-input" placeholder="Type your message here..."></textarea>
    <div class="paper-tape" id="paper-tape"></div>
    <div class="controls">
      <button class="vbtn" id="play-sound">Play Morse ▶</button>
      <button class="vbtn" id="clear-tele">Clear</button>
    </div>
    <h3>Decode Morse</h3>
    <input id="decode-input" placeholder=".... . .-.. .-.. ---">
    <button class="vbtn" id="decode-btn">Decode</button>
    <p id="decode-output"></p>
    <h3>Game Mode</h3>
    <button class="vbtn" id="new-challenge">New Challenge</button>
    <div id="challenge-morse"></div>
    <input id="challenge-answer" placeholder="Type your translation">
    <button class="vbtn" id="check-challenge">Check</button>
    <p id="challenge-feedback"></p>
    <h3>Morse Code Chart</h3>
    <div class="morse-grid" id="morse-chart"></div>
  </div>
</section>

<section id="narrative" class="container narrative">
  <h2>Chapter 3 — Two Wordbooks</h2>
  <p>Explore the timeline of dictionaries and test your knowledge with the quiz below.</p>
  <div class="timeline">
    <div class="event" data-id="cawdrey">1604 — Cawdrey</div>
    <div class="event" data-id="johnson">1755 — Johnson</div>
    <div class="event" data-id="oed">Oxford English Dictionary</div>
    <div class="event" data-id="digital">Digital Era</div>
  </div>
  <div class="bubbles">
    <div class="bubble" data-id="alpha">Alphabetical order was novel</div>
    <div class="bubble" data-id="oedfact">OED used volunteers</div>
  </div>
  <div id="popup" class="popup"><button class="close" id="closePopup">✕</button><div id="popupContent"></div></div>
  <div class="quiz" id="full-quiz">
    <div class="q" data-correct="B">
      <div>Who authored Table Alphabeticall (1604)?</div>
      <div class="choices">
        <button class="choice" data-choice="A" data-explain="Johnson was later.">A) Samuel Johnson</button>
        <button class="choice" data-choice="B" data-explain="Correct — Robert Cawdrey.">B) Robert Cawdrey</button>
        <button class="choice" data-choice="C" data-explain="Oxford scholars were later.">C) Oxford scholars</button>
      </div>
      <div class="feedback"></div>
    </div>
    <!-- More questions can be added here -->
  </div>
</section>

<footer><small>Made for IDT 507 — Chapter 3 Project</small></footer>

<script>
/* Nav scroll */
document.querySelectorAll('nav button').forEach(btn=>{
  btn.addEventListener('click', ()=>{
    document.querySelectorAll('nav button').forEach(b=>b.classList.remove('active'));
    btn.classList.add('active');
    document.getElementById(btn.dataset.target).scrollIntoView({behavior:'smooth'});
  });
});
function scrollToSection(id){document.getElementById(id).scrollIntoView({behavior:'smooth'});}

/* Morse logic */
const morse={"A":".-","B":"-...","C":"-.-.","D":"-..","E":".","F":"..-.","G":"--.","H":"....","I":"..","J":".---","K":"-.-","L":".-..","M":"--","N":"-.","O":"---","P":".--.","Q":"--.-","R":".-.","S":"...","T":"-","U":"..-","V":"...-","W":".--","X":"-..-","Y":"-.--","Z":"--..","0":"-----","1":".----","2":"..---","3":"...--","4":"....-","5":".....","6":"-....","7":"--...","8":"---..","9":"----."};
function encodeToMorse(text){return text.toUpperCase().split('').map(ch=>morse[ch]|| (ch===' '?'/' : ch)).join(' ');}
function decodeMorse(code){const rev=Object.entries(morse).reduce((a,[k,v])=>(a[v]=k,a),{});return code.trim().split(' ').map(s=>s==='/'?' ':rev[s]||'?').join('');}
document.getElementById("message-input").addEventListener("input",e=>{document.getElementById("paper-tape").textContent=encodeToMorse(e.target.value)});
document.getElementById("clear-tele").onclick=()=>{document.getElementById("message-input").value="";document.getElementById("paper-tape").textContent="";}
document.getElementById("decode-btn").onclick=()=>{document.getElementById("decode-output").textContent=decodeMorse(document.getElementById("decode-input").value);}
/* Audio */
function playTone(ctx,duration){const o=ctx.createOscillator();const g=ctx.createGain();o.type='sine';o.frequency.value=700;o.connect(g);g.connect(ctx.destination);o.start();o.stop(ctx.currentTime+duration);}
async function playMorse(str,unit=0.14){const ctx=new (window.AudioContext||window.webkitAudioContext)();for(const s of str.split('')){if(s==='.'){playTone(ctx,unit);await new Promise(r=>setTimeout(r,unit*1000*2));}else if(s==='-'){playTone(ctx,unit*3);await new Promise(r=>setTimeout(r,unit*1000*4));}else{await new Promise(r=>setTimeout(r,unit*1000*2));}}}
document.getElementById("play-sound").onclick=()=>{playMorse(document.getElementById("paper-tape").textContent,0.14)}
/* Game */
const words=["HELLO","WORLD","MORSE","CODE"];let current="";
document.getElementById("new-challenge").onclick=()=>{current=words[Math.floor(Math.random()*words.length)];document.getElementById("challenge-morse").textContent=encodeToMorse(current);}
document.getElementById("check-challenge").onclick=()=>{document.getElementById("challenge-feedback").textContent=document.getElementById("challenge-answer").value.toUpperCase()===current?"✔ Correct":"❌ Try again";}
Object.entries(morse).forEach(([l,c])=>{const d=document.createElement("div");d.className="morse-cell";d.innerHTML=`<b>${l}</b><div>${c}</div>`;document.getElementById("morse-chart").appendChild(d);});
/* Quiz */
document.querySelectorAll('.choice').forEach(btn=>{
  btn.onclick=()=>{const q=btn.closest('.q');const feedback=q.querySelector('.feedback');if(btn.dataset.choice===q.dataset.correct){feedback.textContent="✔ "+btn.dataset.explain;feedback.style.color="green";}else{feedback.textContent="❌ "+btn.dataset.explain;feedback.style.color="red";}}
});
/* Timeline popup */
const data={cawdrey:"Robert Cawdrey’s 1604 wordbook — early attempt to list 'hard words'.",johnson:"Samuel Johnson’s 1755 Dictionary — standardized English.",oed:"Oxford English Dictionary — massive collaborative project.",digital:"Today dictionaries are digital, mobile, and searchable."};
document.querySelectorAll('.event,.bubble').forEach(el=>el.addEventListener('click',()=>{document.getElementById("popupContent").innerHTML="<h3>"+el.textContent+"</h3><p>"+data[el.dataset.id]+"</p>";document.getElementById("popup").style.display="block";}));
document.getElementById("closePopup").onclick=()=>{document.getElementById("popup").style.display="none";}
</script>
</body>
</html>
