<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>The Story of Information | Machines</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Special+Elite&display=swap" rel="stylesheet">
<style>
    /* NOTE: All CSS is included here for simplicity. */
    :root {
      --font-heading: 'Inter', sans-serif;
      --font-body: 'Inter', sans-serif;
      --color-background: #0F172A;
      --color-text-light: #E2E8F0;
      --color-text-dark: #94A3B8;
      --color-accent-primary: #22D3EE;
      --color-accent-secondary: #67E8F9;
      --color-card-dark: rgba(30, 41, 59, 0.5);
      --shadow-color: rgba(0, 0, 0, 0.3);
    }
    * { box-sizing: border-box; }
    html { scroll-behavior: smooth; }
    body { font-family: var(--font-body); margin: 0; color: var(--color-text-light); background-color: var(--color-background); background-image: linear-gradient(180deg, #0F172A 0%, #1E293B 100%); }
    .main-nav { background-color: rgba(15, 23, 42, 0.8); backdrop-filter: blur(10px); position: sticky; top: 0; width: 100%; z-index: 1000; padding: 10px 0; text-align: center; border-bottom: 1px solid rgba(148, 163, 184, 0.2); }
    .main-nav a { color: var(--color-text-dark); text-decoration: none; padding: 10px 15px; margin: 0 5px; border-radius: 5px; font-weight: 600; transition: color 0.2s, background-color 0.2s; }
    .main-nav a:hover { color: white; background-color: var(--color-card-dark); }
    .main-nav a.active { color: var(--color-accent-primary); }
    main { padding: 40px 20px; text-align: center; }
    .container { max-width: 1100px; width: 100%; margin: 0 auto 50px auto; }
    .section-icon { font-size: 3.5rem; margin-bottom: 1rem; color: var(--color-accent-primary); display: inline-block; }
    h2 { font-family: var(--font-heading); font-weight: 700; font-size: clamp(2.5rem, 5vw, 3.5rem); margin-bottom: 2rem; color: white; }
    p { line-height: 1.7; font-size: 1.1rem; max-width: 700px; margin-left: auto; margin-right: auto; color: var(--color-text-dark); }
    .telegraph-container-wrapper { width: 100%; font-family: 'Special Elite', monospace; background-color: #3a2d23; background-image: url('https://www.transparenttextures.com/patterns/wood-pattern.png'); color: #f4f0e8; padding: 40px 0; margin-top: 50px;}
    #telegraph-sim .container { background-color: #5a4635; border: 2px solid #2e2219; border-radius: 10px; box-shadow: 0 15px 30px rgba(0,0,0,0.6); padding: 30px; width: 95%; max-width: 1000px; margin: 20px auto; text-align: center; }
    #telegraph-sim #paper-tape { background-color: #fafafa; border: 2px dashed #444; padding: 20px; min-height: 80px; text-align: left; font-size: 1.6em; font-weight: bold; color: #111; letter-spacing: 4px; word-wrap: break-word; white-space: pre-wrap; margin-bottom: 20px; }
    #telegraph-sim button { font-family: 'Special Elite', monospace; margin: 6px; padding: 10px 18px; font-size: 1em; border-radius: 6px; border: 1px solid #c2a676; background-color: #f2d49b; color: #2e2219; cursor: pointer; transition: 0.2s; }
    #telegraph-sim button:hover { background-color: #e6c580; }
    #telegraph-sim textarea, #telegraph-sim input { font-family: 'Special Elite', monospace; width: 100%; padding: 10px; margin-bottom: 15px; border: 1px solid #8b6f52; border-radius: 5px; font-size: 1.2em; }
    #telegraph-sim textarea { height: 100px; resize: none; background: #f4f0e8; color: #333; }
    #telegraph-sim #morse-chart { display: grid; grid-template-columns: repeat(auto-fill, minmax(60px, 1fr)); gap: 10px; margin-top: 15px; text-align: center; font-size: 1.1em; }
    #telegraph-sim .chart-cell { background: #f4f0e8; color: #111; border-radius: 5px; padding: 5px; border: 1px solid #ccc; }
    #telegraph-sim .chart-symbol { font-weight: bold; color: #4a2; }
    #telegraph-sim h1, #telegraph-sim h2 { font-family: 'Special Elite', monospace; color: #f2d49b; }
    #telegraph-sim p { font-family: 'Special Elite', monospace; font-size: 1em; line-height: 1.5; color: #f4f0e8;}
    .footer { text-align: center; color: var(--color-text-dark); font-size: 0.8rem; padding: 40px 20px; border-top: 1px solid rgba(148, 163, 184, 0.2); }
    .footer a { color: var(--color-accent-primary); }
</style>
</head>
<body>

<nav class="main-nav">
    <a href="index.html">Introduction</a>
    <a href="chapter3.html">Timeline & Quiz (Ch. 3)</a>
    <a href="machines.html" class="active">Machines (Ch. 4-5)</a>
    <a href="mind.html">The Mind</a>
    <a href="conclusion.html">Conclusion</a>
</nav>

<main>
    <div class="container babbage-container">
        <div class="section-icon">‚öôÔ∏è</div>
        <h2>The First Computer (Ch. 4)</h2>
        <p>Long before electronics, Charles Babbage dreamed of a machine to "manufacture" numbers. His **Difference Engine**, conceived in 1822, was a colossal arrangement of gears and wheels designed to automate the production of mathematical tables.</p>
        <p>Though never completed in his lifetime, Babbage's engine represented a bridge from the abstract world of mathematics to the physical world of machinery, treating numbers as a commodity that could be processed and produced. It was the first glimmer of automatic computation.</p>
    </div>
    <div class="telegraph-container-wrapper" id="telegraph-sim">
        <div class="container">
            <h1>Ultimate Telegraph Simulator (Ch. 5)</h1>
            <p>Type a message to encode it, play Morse sounds, or try decoding challenges!</p>
            <h2>‚úç Encode a Message</h2>
            <textarea id="message-input" placeholder="Type here..."></textarea>
            <div id="paper-tape"></div>
            <button id="play-sound">‚ñ∂ Play Morse Sound</button>
            <button id="clear">üßπ Clear</button>
            <h2>üîé Decode Morse Code</h2>
            <input type="text" id="decode-input" placeholder="Type Morse here (.... . .-.. .-.. ---)">
            <button id="decode-btn">Decode</button>
            <p id="decode-output"></p>
            <h2>üéÆ Game Mode</h2>
            <button id="new-game">Generate Random Message</button>
            <p id="morse-challenge"></p>
            <input type="text" id="game-answer" placeholder="Your translation here">
            <button id="check-answer">Check Answer</button>
            <p id="game-feedback"></p>
            <h2>üìñ Learn Morse Code</h2>
            <p>Quick reference chart for letters & numbers:</p>
            <div id="morse-chart"></div>
        </div>
    </div>
</main>

<footer class="footer">
    <small>An interactive narrative inspired by James Gleick's <em>The Information</em>. Designed and developed as a class project.</small>
</footer>

<script>
document.addEventListener('DOMContentLoaded', () => {
    const morseCode = { "A": ".-", "B": "-...", "C": "-.-.", "D": "-..", "E": ".", "F": "..-.", "G": "--.", "H": "....", "I": "..", "J": ".---", "K": "-.-", "L": ".-..", "M": "--", "N": "-.", "O": "---", "P": ".--.", "Q": "--.-", "R": ".-.", "S": "...", "T": "-", "U": "..-", "V": "...-", "W": ".--", "X": "-..-", "Y": "-.--", "Z": "--..", "0": "-----", "1": ".----", "2": "..---", "3": "...--", "4": "....-", "5": ".....", "6": "-....", "7": "--...", "8": "---..", "9": "----." };
    const simInput = document.getElementById("message-input");
    const simOutput = document.getElementById("paper-tape");
    const playBtn = document.getElementById("play-sound");
    const clearBtn = document.getElementById("clear");
    function encodeToMorse(text) { return text.toUpperCase().split("").map(ch => morseCode[ch] || (ch === " " ? "/" : ch)).join(" "); }
    function decodeMorse(morse) { const reverse = Object.entries(morseCode).reduce((acc,[k,v]) => (acc[v]=k,acc),{}); return morse.trim().split(" ").map(symbol => (symbol === "/" ? " " : reverse[symbol] || "?")).join(""); }
    if(simInput && simOutput) simInput.addEventListener("input", () => { simOutput.textContent = encodeToMorse(simInput.value); });
    if(playBtn && simOutput) playBtn.addEventListener("click", () => {
      const morse = simOutput.textContent.trim();
      if (!morse) return;
      let i = 0;
      const ctx = new (window.AudioContext || window.webkitAudioContext)();
      const unit = 0.15;
      function playTone(duration) { const osc = ctx.createOscillator(); const gain = ctx.createGain(); osc.connect(gain); gain.connect(ctx.destination); osc.frequency.value = 600; osc.start(); osc.stop(ctx.currentTime + duration); }
      function playNext() {
        if (i >= morse.length) return;
        const char = morse[i++];
        if (char === ".") { playTone(unit); setTimeout(playNext, unit * 1000 * 2); }
        else if (char === "-") { playTone(unit * 3); setTimeout(playNext, unit * 1000 * 4); }
        else if (char === " ") { setTimeout(playNext, unit * 1000 * 2); }
        else if (char === "/") { setTimeout(playNext, unit * 1000 * 6); }
        else { playNext(); }
      }
      playNext();
    });
    if(clearBtn && simInput && simOutput) clearBtn.addEventListener("click", () => { simInput.value = ""; simOutput.textContent = ""; });
    const decodeBtn = document.getElementById("decode-btn");
    if(decodeBtn) decodeBtn.addEventListener("click", () => { document.getElementById("decode-output").textContent = decodeMorse(document.getElementById("decode-input").value); });
    const words = ["HELLO", "WORLD", "MORSE", "CODE", "TELEGRAPH", "MESSAGE"];
    const newGameBtn = document.getElementById("new-game");
    if(newGameBtn) newGameBtn.addEventListener("click", () => { const randomWord = words[Math.floor(Math.random() * words.length)]; const challengeEl = document.getElementById("morse-challenge"); challengeEl.textContent = encodeToMorse(randomWord); challengeEl.dataset.answer = randomWord; document.getElementById("game-answer").value = ""; document.getElementById("game-feedback").textContent = ""; });
    const checkAnswerBtn = document.getElementById("check-answer");
    if(checkAnswerBtn) checkAnswerBtn.addEventListener("click", () => { const challenge = document.getElementById("morse-challenge"); const feedback = document.getElementById("game-feedback"); if (!challenge.dataset.answer) { feedback.textContent = "Start a game first!"; return; } if (document.getElementById("game-answer").value.toUpperCase().trim() === challenge.dataset.answer) { feedback.textContent = "‚úÖ Correct! The word was " + challenge.dataset.answer; feedback.style.color = "#34D399"; } else { feedback.textContent = "‚ùå Try again!"; feedback.style.color = "#F87171"; } });
    const chart = document.getElementById("morse-chart");
    if(chart) Object.entries(morseCode).forEach(([letter, code]) => { const cell = document.createElement("div"); cell.className = "chart-cell"; cell.innerHTML = `<div><strong>${letter}</strong></div><div class="chart-symbol">${code}</div>`; chart.appendChild(cell); });
});
</script>

</body>
</html>